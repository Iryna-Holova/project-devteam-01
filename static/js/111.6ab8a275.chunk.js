"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[111],{715:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var i,r=t(9126),a=t(168),o=t(6487).ZP.div(i||(i=(0,a.Z)(["\n  position: relative;\n  margin-top: 114px;\n  color: var(--color-text-main);\n\n  & h2 {\n    color: var(--color-text-main);\n    font-weight: 600;\n    font-size: 28px;\n    line-height: 28px;\n    letter-spacing: -0.56px;\n    &.transparent {\n      color: transparent;\n    }\n  }\n\n  @media screen and (min-width: 768px) {\n    margin-top: 136px;\n    & h2 {\n      font-size: 32px;\n      line-height: 32px;\n      letter-spacing: -0.64px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    margin-top: 164px;\n    & h2 {\n      font-size: 44px;\n      line-height: 44px;\n      letter-spacing: -0.88px;\n    }\n  }\n\n  & svg {\n    position: absolute;\n\n    &.circle {\n      left: 231px;\n      width: 6px;\n      height: 6px;\n      color: var(--color-text-main);\n      @media screen and (min-width: 768px) {\n        display: none;\n      }\n    }\n\n    &.square {\n      rotate: -25deg;\n      width: 8px;\n      height: 8px;\n      border-radius: 3px;\n      color: var(--color-accent);\n      @media screen and (min-width: 768px) {\n        width: 12px;\n        height: 12px;\n      }\n    }\n\n    &.square.left {\n      left: 104px;\n      bottom: 50px;\n      @media screen and (min-width: 768px) {\n        left: 187px;\n        bottom: 64px;\n      }\n      @media screen and (min-width: 1440px) {\n        left: 228px;\n        bottom: 72px;\n      }\n    }\n\n    &.square.right {\n      right: 0;\n      bottom: 23px;\n      @media screen and (min-width: 768px) {\n        right: -9px;\n        bottom: 51px;\n      }\n      @media screen and (min-width: 1440px) {\n        right: 71px;\n        bottom: 59px;\n      }\n    }\n\n    &.square.center {\n      display: none;\n      color: var(--color-text-main);\n      @media screen and (min-width: 768px) {\n        display: block;\n        left: 405px;\n        bottom: -3px;\n      }\n      @media screen and (min-width: 1440px) {\n        left: 707px;\n        bottom: -8px;\n      }\n    }\n  }\n"]))),s=t(184),c=function(n){var e=n.className,t=n.children;return(0,s.jsxs)(o,{className:"container",children:[(0,s.jsx)("h2",{className:e,children:t}),(0,s.jsx)(r.rJz,{className:"circle"}),(0,s.jsx)(r.AhU,{className:"square left"}),(0,s.jsx)(r.AhU,{className:"square right"}),(0,s.jsx)(r.AhU,{className:"square center"})]})}},1111:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var i,r,a,o=t(715),s=t(4165),c=t(7762),l=t(5861),d=t(9439),p=t(2791),u=t(7689),h=t(5705),m=t(184),x=function(n){var e=n.categories,t=n.handleFileChange;n.selectedFile;return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Recipe Description"}),(0,m.jsx)("label",{htmlFor:"thumb",children:"Thumb:"}),(0,m.jsx)("input",{type:"file",id:"thumb",name:"thumb",onChange:t}),(0,m.jsx)(h.Bc,{name:"thumb",component:"div"}),(0,m.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,m.jsx)(h.gN,{type:"text",id:"title",name:"title",placeholder:"Enter item title"}),(0,m.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,m.jsx)(h.gN,{as:"textarea",id:"description",name:"description",placeholder:"Enter about recipe"}),(0,m.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,m.jsxs)(h.gN,{as:"select",id:"category",name:"category",children:[(0,m.jsx)("option",{value:"",children:"Select a category"}),e&&Array.isArray(e)?e.map((function(n){return(0,m.jsx)("option",{value:n._id.$oid,children:n.name},n._id.$oid)})):(0,m.jsx)("option",{value:"",children:"No categories available"})]}),(0,m.jsx)("label",{htmlFor:"time",children:"Preparation Time:"}),(0,m.jsxs)(h.gN,{as:"select",id:"time",name:"time",children:[(0,m.jsx)("option",{value:"",children:"Select cooking time"}),Array.from({length:24},(function(n,e){return 5*(e+1)})).map((function(n){return(0,m.jsxs)("option",{value:n,children:[n," min"]},n)}))]})]})},g=t(9434),f=t(257),v=function(n){return n.ingredients.items},j=t(5520),b=function(){var n=(0,h.u6)(),e=n.values,t=n.setFieldValue,i=(0,g.I0)();(0,p.useEffect)((function(){i((0,f.n)())}),[i]);var r=(0,g.v9)(v),a=function(n,e){setTimeout((function(){var t=function(n){return r.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))}(n);e(t)}),1e3)};return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Ingredients"}),(0,m.jsx)(h.F2,{name:"ingredients",render:function(n){var i=n.push,r=n.remove;return(0,m.jsxs)(m.Fragment,{children:[e.ingredients.map((function(n,e){return(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"ingredients[".concat(e,"].name"),children:"Ingredient Name:"}),(0,m.jsx)(j.Z,{id:"ingredients[".concat(e,"].name"),name:"ingredients[".concat(e,"].name"),cacheOptions:!0,defaultOptions:!0,loadOptions:function(n,e){return a(n,e)},getOptionLabel:function(n){return n.name},getOptionValue:function(n){return n},value:n.name,onChange:function(n){return function(n,e){t("ingredients[".concat(n,"].name"),e||null)}(e,n)}}),(0,m.jsx)("label",{htmlFor:"ingredients[".concat(e,"].measure"),children:"Measure:"}),(0,m.jsx)("input",{type:"text",id:"ingredients[".concat(e,"].measure"),name:"ingredients[".concat(e,"].measure"),value:n.measure,onChange:function(n){return t("ingredients[".concat(e,"].measure"),n.target.value)}}),(0,m.jsx)("button",{type:"button",onClick:function(){return r(e)},children:"X"})]},e)})),(0,m.jsx)("button",{type:"button",onClick:function(){return i({name:"",measure:""})},children:"Add Ingredient"})]})}})]})},w=function(){var n=(0,h.u6)(),e=n.values,t=n.setFieldValue,i=(0,p.useState)([]),r=(0,d.Z)(i,2),a=r[0],o=r[1];(0,p.useEffect)((function(){t("preparation",a.join("\n"))}),[a,t]);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Preparation"}),(0,m.jsx)("label",{htmlFor:"preparation",children:"Enter the preparation steps:"}),(0,m.jsx)(h.gN,{as:"textarea",id:"preparation",name:"preparation",value:e.preparation,onChange:function(n){var e=n.target.value.split("\n");o(e)}}),(0,m.jsx)("p",{children:"Preparation Array:"}),(0,m.jsx)("ol",{children:a.map((function(n,e){return(0,m.jsx)("li",{children:n},e)}))})]})},y=t(168),F=t(6487),N=(0,F.iv)(i||(i=(0,y.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n\n  @media screen and (min-width: 343px) {\n    width: 343px;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 704px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    width: 1240px;\n  }\n"]))),Z=F.ZP.div(r||(r=(0,y.Z)(["\n    ","\n"])),N),C=F.ZP.button(a||(a=(0,y.Z)(["\n  width: 129px;\n  height: 46px;\n"]))),k=t(5037),A=t(6309),E=t(1918),S=function(){var n=(0,g.I0)(),e=(0,u.s0)(),t=(0,g.v9)(k.us),i=(0,g.v9)(v),r=(0,p.useState)(null),a=(0,d.Z)(r,2),o=a[0],j=a[1];(0,p.useEffect)((function(){n((0,A.v)()),n((0,f.n)())}),[n]);var y=function(){var n=(0,l.Z)((0,s.Z)().mark((function n(t){var i,r,a,l,p,u,h;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(i=new FormData).append("title",t.title),i.append("category",t.category),i.append("instructions",JSON.stringify(t.preparation)),i.append("description",t.description),i.append("thumb",o),i.append("preview",""),i.append("time",t.time),i.append("tags",JSON.stringify([])),t.ingredients.forEach((function(n,e){i.append("ingredients[".concat(e,"].id"),n.name),i.append("ingredients[".concat(e,"].measure"),n.measure)})),r=(0,c.Z)(i.entries());try{for(r.s();!(a=r.n()).done;)l=(0,d.Z)(a.value,2),p=l[0],u=l[1],console.log(p,u)}catch(s){r.e(s)}finally{r.f()}return n.prev=12,n.next=15,(0,E._M)({formData:i});case 15:(h=n.sent)?(console.log("Recipe added successfully:",h),e("/my")):console.log("Failed to add recipe"),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(12),console.log("Error adding recipe:",n.t0.message);case 22:case"end":return n.stop()}}),n,null,[[12,19]])})));return function(e){return n.apply(this,arguments)}}();return(0,m.jsx)(h.J9,{initialValues:{title:"",category:"",preparation:[],description:"",time:"",ingredients:[]},onSubmit:y,children:(0,m.jsx)(Z,{children:(0,m.jsxs)(h.l0,{children:[(0,m.jsx)(x,{categories:t,handleFileChange:function(n){var e=n.currentTarget.files[0];j(e)},selectedFile:o}),(0,m.jsx)(b,{ingredients:i}),(0,m.jsx)(w,{}),(0,m.jsx)(C,{type:"submit",children:"Add"})]})})})},_=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{children:"Add recipe page"}),(0,m.jsx)(S,{})]})}},5037:function(n,e,t){t.d(e,{NT:function(){return r},S_:function(){return a},us:function(){return i}});var i=function(n){return n.categories.items},r=function(n){return n.categories.isLoading},a=function(n){return n.categories.error}}}]);
//# sourceMappingURL=111.6ab8a275.chunk.js.map