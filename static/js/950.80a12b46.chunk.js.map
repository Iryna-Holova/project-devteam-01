{"version":3,"file":"static/js/950.80a12b46.chunk.js","mappings":"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","sources":["components/MainTitle/Title.styled.jsx","components/MainTitle/MainTitle.jsx","components/RecipeGallery/RecipeGallery.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","redux/Recipes/SearchBy/selectors.js","hooks/useSearchBy.js","pages/Search.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst Title = styled.div`\n  margin-top: 114px;\n\n  & h2 {\n    color: var(--color-text-main);\n    font-size: 28px;\n    line-height: 28px;\n    letter-spacing: -0.56px;\n    \n    &.invisible {\n      color: transparent;\n    }\n  }\n\n  @media screen and (min-width: 768px) {\n    margin-top: 136px;\n    & h2 {\n      font-size: 32px;\n      line-height: 32px;\n      letter-spacing: -0.64px;\n    }\n  }\n\n  @media screen and (min-width: 1440px) {\n    margin-top: 164px;\n    & h2 {\n      font-size: 44px;\n      line-height: 44px;\n      letter-spacing: -0.88px;\n    }\n  }\n`\n\nexport default Title\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title from './Title.styled';\n\nconst MainTitle = ({ children }) => {\n  return (\n    <Title className=\"container\">\n      <h2>{children}</h2>\n    </Title>\n  );\n};\n\nMainTitle.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default MainTitle;\n","import { Link } from 'react-router-dom';\n\nimport {\n  RecipeContainer,\n  RecipeImg,\n  List,\n  Recipe,\n  Description,\n} from './RecipeGallery.styled';\n\nimport IngredientsPlaceholder from '../../assets/food-default.svg';\n\nconst RecipeGallery = ({ recipes = null }) => {\n  return (\n    recipes && (\n      <List className=\"container\">\n        {recipes.map(({ _id, title, thumb }) => (\n          <Recipe key={_id}>\n            <Link to={`/recipe/${_id}`}>\n              <RecipeContainer>\n                <Description>\n                  <p>{title}</p>\n                </Description>\n                <RecipeImg\n                  src={thumb ? thumb : IngredientsPlaceholder}\n                  loading=\"lazy\"\n                  alt={title}\n                />\n              </RecipeContainer>\n            </Link>\n          </Recipe>\n        ))}\n      </List>\n    )\n  );\n};\n\nexport default RecipeGallery;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n    display: flex;\n   \n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n`\n\nexport const Input = styled.input`\n    width: 464px;\n    height: 69px;\n    padding-left: 48px;\n    font-size: 16px;\n`\n\nexport const Btn = styled.button`\n    width: 161px;\n    height: 70px;\n    font-size: 16px;\n`\n\nexport const Select = styled.select`\n    width: 198px;\n    height: 49px;\n    letter-spacing: -0.28px;\n    padding: 0 14px;\n    margin-left: 18px;\n`\n\nexport const Div = styled.div`\n    margin-top: 115px;\n    margin-bottom: 27px;\n`","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport {Input, Btn, Select, Div, Form} from './Searchbar.styled'\n\n\nimport { useDispatch } from 'react-redux';\nimport {getSearchByThunk} from '../../redux/Recipes/SearchBy/operations'\nimport {SEARCH_BY_TITLE, SEARCH_BY_INGREDIENT} from '../../utils/constants'\n\n  \n  \nexport function Searchbar ({onSubmit}) {\n    const [value, setValue] = useState('');\n    const [selectedValue, setSelectedValue] = useState('title')\n    const [isTyping, setIsTyping] = useState(false)\n    const location = useLocation()\n\n    const dispatch = useDispatch()\n    \n\n\n\n// Функция записывает значение инпута в состояние\n  const handleInputChange = ({ target }) => {\n    const inputValue = target.value\n    if (target.name === 'value') {\n        \n      setValue(inputValue);\n      setIsTyping(inputValue !== '');\n    }\n    };\n\n\n// Функция записывает в состояние значение селекта  \n  const handleSelectChange = ({target}) => {\n    const selectValue = target.value\n    \n    setSelectedValue(selectValue)\n    \n   }\n\n\n// Ефект для отправки запроса если пользователь сделает паузу при вводе запроса   \n  useEffect(()=> {\n    if (!isTyping || value.trim() === '') {\n        return;\n      }\n      \n      const delayDebounceRequest = setTimeout(() => {\n        if (selectedValue === \"ingredients\" && value !== \"\") {\n          dispatch(getSearchByThunk({query:value, method:SEARCH_BY_INGREDIENT}))\n           \n           }\n        if (selectedValue === \"title\" && value !== \"\") {\n          dispatch(getSearchByThunk({query:value, method:SEARCH_BY_TITLE}))\n           \n         }\n      }, 1500)\n\n    return () => clearTimeout(delayDebounceRequest);\n  }, [value, selectedValue,isTyping, dispatch ])\n\n  \n\n// Отправка введенных значений по клику  \n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (value.trim() === '') {\n      return;\n    }\n   \n    setIsTyping(false)\n    onSubmit(value, selectedValue);\n   \n  };\n\n    return (\n        <>\n          <Form>\n            <Div>\n            <Input\n                type=\"text\"\n                name=\"value\"\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search recipes\"\n                onChange={handleInputChange}\n                value={value}\n              />\n           <Btn onClick={handleSubmit} type=\"submit\">Search</Btn>\n            </Div>\n           \n           \n            {location.pathname === '/search' && <label>\n            Search by: <Select onChange={handleSelectChange}>\n                \n                <option name=\"title\" value=\"title\">Title</option>\n                <option name=\"ingredients\" value=\"ingredients\">Ingredients</option>\n                \n            </Select></label>}\n           \n           \n          </Form>\n        </>\n      );\n  }\n\n\n  ","export const selectSearchByResult = state => state.recipes.searchBy.items;\nexport const selectSearchByQuery = state => state.recipes.searchBy.query;\nexport const selectSearchByError = state => state.recipes.searchBy.error;\nexport const selectSearchByPage = state => state.recipes.searchBy.page;\nexport const selectSearchByTotal = state => state.recipes.searchBy.total;\nexport const selectSearchByPages = state => state.recipes.searchBy.pages;\nexport const selectSearchByLimit = state => state.recipes.searchBy.limit;\nexport const selectSearchByLoading = state => state.recipes.searchBy.isLoading;\nexport const selectSearchByStatus = state => state.recipes.searchBy.status;\nexport const selectSearchByMethod = state => state.recipes.searchBy.method;\n","import { useSelector } from 'react-redux';\nimport {\n  selectSearchByResult,\n  selectSearchByQuery,\n  selectSearchByError,\n  selectSearchByLoading,\n  selectSearchByLimit,\n  selectSearchByPages,\n  selectSearchByTotal,\n  selectSearchByPage,\n  selectSearchByMethod,\n  selectSearchByStatus,\n} from 'redux/Recipes/SearchBy/selectors';\n\nconst useSearchBy = () => {\n  const isLoading = useSelector(selectSearchByLoading);\n  const isError = useSelector(selectSearchByError);\n  const query = useSelector(selectSearchByQuery);\n  const data = useSelector(selectSearchByResult);\n  const recipes = useSelector(selectSearchByResult);\n  const page = useSelector(selectSearchByPage);\n  const total = useSelector(selectSearchByTotal);\n  const pages = useSelector(selectSearchByPages);\n  const limit = useSelector(selectSearchByLimit);\n  const status = useSelector(selectSearchByStatus);\n  const method = useSelector(selectSearchByMethod);\n\n  return {\n    isLoading,\n    isError,\n    data,\n    query,\n    page,\n    total,\n    pages,\n    limit,\n    recipes,\n    method,\n    status,\n  };\n};\n\nexport default useSearchBy;\n","import MainTitle from 'components/MainTitle/MainTitle';\nimport RecipeGallery from '../components/RecipeGallery/RecipeGallery'\n\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { useState, useEffect } from 'react';\n\nimport useSearchBy from '../hooks/useSearchBy'\n\n\nimport img from '../assets/images/empty-img.png';\nimport { useDispatch } from 'react-redux';\nimport {getSearchByThunk} from '../redux/Recipes/SearchBy/operations'\nimport {SEARCH_BY_TITLE, SEARCH_BY_INGREDIENT} from '../utils/constants'\n\n\nconst Search = () => {\n  const [searchValue, setSearchValue] = useState('');\n  const [selectedValue, setSelectedValue] = useState('title');\n\n  const dispatch = useDispatch()\n  const {recipes, status, isLoading, error} = useSearchBy()\n  \n\n  \n\n  useEffect(() => {\n    if (searchValue === '') {\n      return;\n    }\n   \n\n    if (selectedValue === 'ingredients' && searchValue !== '') {\n        dispatch(getSearchByThunk({query:searchValue, method:SEARCH_BY_INGREDIENT}))\n    }\n    if (selectedValue === 'title' && searchValue !== '') {\n        dispatch(getSearchByThunk({query:searchValue, method:SEARCH_BY_TITLE}))\n    }\n  }, [searchValue, selectedValue, dispatch]);\n\n \n\n  // Функция записывает полученные значения из SearchBar в стейт\n  const formOnsubmitHandler = (value, selectValue) => {\n    if (searchValue !== value) {\n      setSearchValue(value);\n    }\n\n    if (selectedValue !== selectValue) {\n      setSelectedValue(selectValue);\n    }\n  };\n  console.log(recipes);\n  console.log(status);\n\n  console.log(error); // Just for build\n\n  return (\n    <>\n    <MainTitle>\n      Search\n    </MainTitle>\n    <Searchbar\n    onSubmit={formOnsubmitHandler}\n      />\n      {isLoading && <p>Loading...</p>}\n  {status === 2 && <RecipeGallery recipes={recipes} />}\n  {status === 1 && <p>...</p>}\n  {status === 3 && (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n      }}\n    >\n      <img src={img} alt=\"Корзина с фруктами\" width=\"350\" />\n      <p>Try looking for something else..</p>\n    </div>\n  )}\n  {(status === 2 && recipes) && (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n      }}\n    >\n      <img src={img} alt=\"Корзина с фруктами\" width=\"350\" />\n      <p>Try looking for something else..</p>\n    </div>\n  )}\n  \n    </>\n  );\n};\n\nexport default Search;\n"],"names":["styled","_templateObject","_taggedTemplateLiteral","_ref","children","_jsx","Title","className","_ref$recipes","recipes","List","map","_ref2","_id","title","thumb","Recipe","Link","to","concat","_jsxs","RecipeContainer","Description","RecipeImg","src","IngredientsPlaceholder","loading","alt","Form","Input","_templateObject2","Btn","_templateObject3","Select","_templateObject4","Div","_templateObject5","Searchbar","onSubmit","_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","selectedValue","setSelectedValue","_useState5","_useState6","isTyping","setIsTyping","location","useLocation","dispatch","useDispatch","useEffect","trim","delayDebounceRequest","setTimeout","getSearchByThunk","query","method","SEARCH_BY_INGREDIENT","SEARCH_BY_TITLE","clearTimeout","_Fragment","type","name","autoComplete","autoFocus","placeholder","onChange","target","inputValue","onClick","e","preventDefault","pathname","_ref3","selectValue","selectSearchByResult","state","searchBy","items","selectSearchByQuery","selectSearchByError","error","selectSearchByPage","page","selectSearchByTotal","total","selectSearchByPages","pages","selectSearchByLimit","limit","selectSearchByLoading","isLoading","selectSearchByStatus","status","selectSearchByMethod","useSelector","isError","data","searchValue","setSearchValue","_useSearchBy","useSearchBy","console","log","MainTitle","RecipeGallery","style","display","alignItems","justifyContent","flexDirection","img","width"],"sourceRoot":""}